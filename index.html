<!DOCTYPE html>
<html>
<head>
    <title>Loading...</title>
    <link rel="icon" type="image/png" href="https://www.youtube.com/favicon.ico">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background: #000; font-family: Arial, sans-serif; }
        .player-container { width: 100%; height: 100vh; background: #000; }
        #player { width: 100%; height: 100%; border: none; }
        .loading { color: white; text-align: center; padding: 50px; }
    </style>
</head>
<body>
    <div class="player-container">
        <div class="loading" id="loading">Loading YouTube player...</div>
        <iframe id="player" style="display: none;"></iframe>
    </div>

    <script>
        // Get video ID from URL
        const urlParams = new URLSearchParams(window.location.search);
        const videoId = urlParams.get('vid');
        const loading = document.getElementById('loading');
        const player = document.getElementById('player');
        
        async function fetchVideoTitle(videoId) {
            try {
                // Use YouTube oEmbed to get video title
                const response = await fetch(`https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v=${videoId}&format=json`);
                const data = await response.json();
                return data.title;
            } catch (error) {
                console.log('Could not fetch video title:', error);
                return `YouTube Video ${videoId}`;
            }
        }
        
        async function loadVideo() {
            if (videoId) {
                // Fetch and set the video title
                const videoTitle = await fetchVideoTitle(videoId);
                document.title = videoTitle;
                
                // Load the player
                player.src = "https://www.youtube.com/embed/" + videoId + "?rel=0&modestbranding=1";
                player.style.display = 'block';
                loading.style.display = 'none';
            } else {
                loading.innerHTML = 'No video ID found. Go to a YouTube video first.';
                document.title = 'YouTube Clean Player';
            }
        }
        
        loadVideo();
    </script>
</body>
</html>
